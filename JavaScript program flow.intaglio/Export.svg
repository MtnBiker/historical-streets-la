<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" "http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
<!--Generated by Intaglio, www.PurgatoryDesign.com-->
<svg version="1.1" viewBox="0,0,734,576" width="734" height="576" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns:intaglio="http://purgatorydesign.com/namespaces/intaglio" intaglio:grid="36,36,1,1,0.5,#9999bf,1,0,0,0" intaglio:guides="0.8,#f0f,1,1"><path fill="none" stroke="#f00" d="M80.2925,73.3975 L350.576,342.284"/><path fill="none" stroke="#000100" d="M444,50.3975 L334.456,228.645"/><g fill="#000100" font-family="Helvetica" font-size="12" transform="matrix(1,0,0,1,11.459,36.9277)" intaglio:type="text" xml:space="preserve"><text><tspan>overview&gt;index</tspan></text><text x="0" y="16"><tspan x="28">$(document).on("turbolinks:load", function() {</tspan></text><text x="0" y="32"><tspan>           </tspan><tspan>overviewMap</tspan><tspan>();</tspan></text><text x="0" y="48"><tspan>        });</tspan></text><text x="0" y="64"><tspan x="28">streets/</tspan><tspan>overlaymap_selector</tspan></text></g><text fill="#000100" font-family="Helvetica" font-size="12" transform="matrix(1,0,0,1,319.031,38.8252)" xml:space="preserve"><tspan>streets&gt;show</tspan><tspan x="28" y="16">map_and_control</tspan><tspan x="28" y="32">overlaymap_selector</tspan></text><text fill="#000100" font-family="Helvetica" font-size="12" transform="matrix(1,0,0,1,290.5,95.002)" xml:space="preserve"/><g fill="#000100" font-family="Helvetica" font-size="12" transform="matrix(1,0,0,1,518.811,59.0342)" intaglio:type="text" xml:space="preserve"><text><tspan>streets&gt;edit</tspan></text><text x="0" y="16"><tspan x="28">form_edit</tspan></text><text x="0" y="32"/><text x="0" y="48"><tspan x="56">form_edit.html.erb:</tspan></text><text x="0" y="64"><tspan x="56">map_and_control_and_draw</tspan></text><text x="0" y="80"><tspan x="56">overlaymap_selector</tspan></text><text x="0" y="96"/><text x="0" y="112"/><text x="0" y="128"/><text x="0" y="144"/></g><text fill="#000100" font-family="Helvetica" font-size="12" transform="matrix(1,0,0,1,1.7207,194.073)" xml:space="preserve"><tspan>_overlaymap_selector</tspan><tspan>.html.erb</tspan><tspan x="28" y="16">overlaySelector</tspan><tspan>();</tspan></text><text fill="#000100" font-family="Helvetica" font-size="12" transform="matrix(1,0,0,1,502.202,536.043)" xml:space="preserve"><tspan>function </tspan><tspan>showMap</tspan><tspan>(popupText) {</tspan><tspan x="0" y="16">  if (map != undefined) { map.remove(); }</tspan></text><text fill="#000100" font-family="Helvetica" font-size="12" transform="matrix(1,0,0,1,543.5,373.825)" xml:space="preserve"><tspan>function </tspan><tspan>editMap</tspan><tspan>(popupText) {</tspan><tspan x="28" y="16">showMap</tspan><tspan>();</tspan><tspan x="28" y="32">+editing tools</tspan></text><g fill="#000100" font-family="Helvetica" font-size="12" transform="matrix(1,0,0,1,460.982,285)" intaglio:type="text" xml:space="preserve"><text><tspan>_</tspan><tspan>map_and_control_and_draw.html.erb:</tspan></text><text x="0" y="16"><tspan x="28">$(document).on("turbolinks:load", function() {</tspan></text><text x="0" y="32"><tspan>             </tspan><tspan>editMap</tspan><tspan>(popupText);</tspan></text></g><g fill="#000100" font-family="Helvetica" font-size="12" transform="matrix(1,0,0,1,274.5,241.861)" intaglio:type="text" xml:space="preserve"><text><tspan>_map_and_control.html.erb:</tspan></text><text x="0" y="16"><tspan x="28">$(document).on("turbolinks:load", function() {</tspan></text><text x="0" y="32"><tspan>            </tspan><tspan>showMap</tspan><tspan>(popupText);</tspan></text></g><text fill="#000100" font-family="Helvetica" font-size="12" transform="matrix(1,0,0,1,295.367,351.043)" xml:space="preserve"><tspan>function </tspan><tspan>overviewMap</tspan><tspan>() {</tspan><tspan x="0" y="16">  </tspan><tspan>showMap</tspan><tspan>(map);</tspan><tspan x="0" y="32">+ all segments</tspan></text><text fill="#000100" font-family="Helvetica" font-size="12" transform="matrix(1,0,0,1,73.4209,526.407)" xml:space="preserve"><tspan>function findSelectedMap(mapID, cb) {</tspan><tspan x="0" y="16">  finds the map mapID and then goes back to</tspan><tspan x="0" y="32">overlaySelector to put in all the overlay map tools</tspan></text><text fill="#000100" font-family="Helvetica" font-size="12" transform="matrix(1,0,0,1,1.55664,439.165)" xml:space="preserve"><tspan>function </tspan><tspan>overlaySelector</tspan><tspan>() {</tspan><tspan x="0" y="16">  // Adding overlays.</tspan><tspan x="0" y="32">    let mapID = $("#select-overlay input[type='radio']:checked").val();</tspan><tspan x="0" y="48">    // The function that is passed in is executed after the json.forEach is executed.</tspan><tspan x="0" y="64">    findSelectedMap(mapID, function() {</tspan></text><text fill="#000100" font-family="Helvetica" font-size="12" transform="matrix(1,0,0,1,1073.52,1061.39)" xml:space="preserve"><tspan>t</tspan></text><text fill="#000100" font-family="Helvetica" font-size="12" transform="matrix(1,0,0,1,159.764,95.002)" xml:space="preserve"/><path fill="none" stroke="#f00" d="M428.5,303.502 L570.848,520.085"/><path fill="none" stroke="#f00" d="M596.551,408.479 L570.848,520.085"/><path fill="none" stroke="#f00" d="M341.81,389.563 L570.848,520.085"/><path fill="none" stroke="#f00" d="M531.098,319.502 L608.954,365.065"/><path fill="none" stroke="#0f0" d="M83.2012,103.5 L62.5,184.22"/><path fill="none" stroke="#0f0" d="M73.585,228.645 L87,430.323"/><path fill="none" stroke="#0f0" d="M621.021,149.172 L62.5,184.22"/><path fill="none" stroke="#0f0" d="M378.5,73.3975 L62.5,184.22"/><path fill="none" stroke="#000100" d="M621.021,139.611 L555.373,276.363"/><path fill="none" stroke="#000100" d="M569.973,79.9507 L596.551,95.002"/><text fill="#000100" font-family="Helvetica" font-size="12" transform="matrix(1,0,0,1,61.6152,16)" xml:space="preserve"><tspan>Before relying on this, check that no changes have been made. I drew this for degugging</tspan></text><text fill="#000100" font-family="Helvetica" font-size="12" transform="matrix(1,0,0,1,661.431,532.92)" xml:space="preserve"/></svg>
