<!-- The middle columns of  edit. See also the functions in streets.js -->
<!-- Also for new, but line 31 throws an error at the moment. Maybe need to fix the leaflet.draw issue first-->
<!-- May end up also being overview. If so can bring back in basemap_selector TODO -->

<div class="col card">
  <p class="font-bold-red">If no map shows up when you choose a map, zoom out. But the map may not cover that region, so try another map. TODO-put up a notice<br>1908 LA and 1908 Hamlin currently not working</p>
  <br/>

  <div id="map"></div>
    <script>
      // editMap() is in assets/javascripts/streets.js

      var popupText = "&le;<%= @street.dateEarliest %><br><%= @street.prevName %><br>&ge;<%= @street.dateLatest %><br><%= @street.currentName %>";
      // $(document).on("ready page:load", function() { // have to reload to get page to show
      // The turbolinks:load part may not be needed https://stackoverflow.com/questions/18770517/rails-4-how-to-use-document-ready-with-turbo-links
      $(document).on("turbolinks:load", function() {
         editMap(popupText);
      });
    </script>

</div>  <!-- col middle -->

<!-- < = render 'basemap_selector' %> Now put in in edit.html.erb-->

<!-- The only difference between this and map_and_control is editMap is called instead of showMap -->
