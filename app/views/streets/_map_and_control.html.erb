<!-- The two middle columns of show and edit. See also the functions in streets.js -->
<!-- Also for new, but line 31 throws an error at the moment. Maybe need to fix the leaflet.draw issue first-->
<!-- May end up also being overview. If so can bring back in overlaymap_selector TODO -->

<div class="col card"> <!-- the second column in the row set up in show.html.erb -->
  <p class="font-bold-red">If no map shows up when you choose a map, refresh the page (known bug). But the map may not cover that region, so try another map.</p>
  <br/>

  <div id="map"></div>
    <script>
      // showMap() is in assets/javascripts/streets.js

      var popupText = "&le;<%= @street.date_earliest %><br><%= @street.previous_name %><br>&ge;<%= @street.date_latest %><br><%= @street.current_name %>";
      // $(document).on("ready page:load", function() { // have to reload to get page to show
      // The turbolinks:load part may not be needed https://stackoverflow.com/questions/18770517/rails-4-how-to-use-document-ready-with-turbo-links
      $(document).on("turbolinks:load", function() {
         showMap(popupText);
      });
    </script>

</div>  <!-- col middle -->

<!-- should rename map or showMap or mapDisplay -->
